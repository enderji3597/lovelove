<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <title>클릭하면 장민호, 심현수, 권우혁 비 내리기</title>
    <style>
        body {
            height: 100vh;
            margin: 0;
            overflow: hidden;
            background-color: #1f2833; /* 좀 더 어두운 배경 */
            color: white;
            font-family: 'Malgun Gothic', sans-serif;
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
            cursor: pointer;
        }

        h1 {
            z-index: 10;
            font-size: 3.5em;
            text-shadow: 3px 3px 8px rgba(0,0,0,0.6);
            color: #ececec; /* 더 밝은 회색 */
        }

        p {
            z-index: 10;
            font-size: 1.3em;
            margin-top: 25px;
            color: #c0c0c0;
        }

        #name-container {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            pointer-events: none;
            z-index: 5;
        }

        .falling-name { /* 클래스명 변경 */
            position: absolute;
            font-size: 2.5em;
            font-weight: bold;
            opacity: 0;
            animation: fall linear infinite;
            /* 각 이름별 색상은 JS에서 동적으로 설정 */
        }

        /* 각 이름별 그림자 효과 (텍스트 색상에 맞게 조정) */
        .color-pink { text-shadow: 0 0 12px rgba(255, 105, 180, 0.8); } /* 핫핑크 */
        .color-sky { text-shadow: 0 0 12px rgba(135, 206, 235, 0.8); } /* 스카이블루 */
        .color-yellow { text-shadow: 0 0 12px rgba(255, 255, 0, 0.8); } /* 노란색 */


        @keyframes fall {
            0% {
                top: -5%;
                opacity: 1;
                transform: translateX(0) rotate(0deg);
            }
            100% {
                top: 105%;
                opacity: 0;
                transform: translateX(var(--end-x)) rotate(var(--end-rotate));
            }
        }
    </style>
</head>
<body>
    <div id="name-container"></div>
    <h1>화면을 클릭하면 세 이름 비가 내립니다!</h1>
    <p>아무 곳이나 클릭해 주세요.</p>

    <script>
        const container = document.getElementById('name-container');
        
        // 이름과 색상을 매핑하는 배열
        const namesAndColors = [
            { name: '권우혁', color: '#FF69B4', className: 'color-pink' }, // 핑크
            { name: '장민호', color: '#87CEEB', className: 'color-sky' },  // 하늘색
            { name: '심현수', color: '#FFFF00', className: 'color-yellow' } // 노란색
        ];

        let isRainStarted = false;
        let intervalId = null;

        function getRandomInt(min, max) {
            return Math.floor(Math.random() * (max - min + 1)) + min;
        }

        function createFallingName() {
            // namesAndColors 배열에서 무작위로 하나의 이름 선택
            const randomNameObj = namesAndColors[getRandomInt(0, namesAndColors.length - 1)];

            const nameElement = document.createElement('span');
            nameElement.textContent = randomNameObj.name;
            nameElement.classList.add('falling-name'); // 모든 이름에 공통 클래스 적용
            nameElement.classList.add(randomNameObj.className); // 각 이름에 맞는 색상 클래스 적용

            nameElement.style.color = randomNameObj.color; // JS로 직접 색상 적용

            const startX = getRandomInt(0, window.innerWidth);
            nameElement.style.left = startX + 'px';

            const duration = getRandomInt(8, 15);
            const delay = getRandomInt(0, 5);
            nameElement.style.animationDuration = duration + 's';
            nameElement.style.animationDelay = delay + 's';
            
            nameElement.style.fontSize = getRandomInt(18, 40) / 10 + 'em';
            
            const endX = getRandomInt(-200, 200);
            const endRotate = getRandomInt(-720, 720);
            
            nameElement.style.setProperty('--end-x', endX + 'px');
            nameElement.style.setProperty('--end-rotate', endRotate + 'deg');

            container.appendChild(nameElement);

            nameElement.addEventListener('animationend', () => {
                nameElement.remove();
            });
        }

        function startRain() {
            if (isRainStarted) return;
            
            isRainStarted = true;
            document.body.style.cursor = 'default';

            document.querySelector('h1').textContent = '장민호, 심현수, 권우혁 비가 내립니다!';
            document.querySelector('p').textContent = '다시 클릭하면 비가 멈춥니다.';

            intervalId = setInterval(createFallingName, 100);

            for (let i = 0; i < 30; i++) {
                setTimeout(createFallingName, i * 50);
            }
        }

        function stopRain() {
            if (!isRainStarted) return;

            isRainStarted = false;
            clearInterval(intervalId);

            const allNames = document.querySelectorAll('.falling-name');
            allNames.forEach(nameElement => nameElement.remove());

            document.body.style.cursor = 'pointer';

            document.querySelector('h1').textContent = '화면을 클릭하면 세 이름 비가 내립니다!';
            document.querySelector('p').textContent = '아무 곳이나 클릭해 주세요.';
        }

        document.body.addEventListener('click', () => {
            if (!isRainStarted) {
                startRain();
            } else {
                stopRain();
            }
        });
    </script>
</body>
</html>
